<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xist2024 - ç§˜å¯†æ§åˆ¶å°</title>
    <style>
        /* --- å…¨å±€æ ·å¼ --- */
        :root {
            --bg-color: #1a1a2e;
            --card-color: #16213e;
            --primary-color: #0f3460;
            --accent-color: #e94560;
            --text-color: #e0e0e0;
            --input-bg-color: #2a2a4e;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
        }
        h1, h2 {
            color: var(--accent-color);
            text-shadow: 0 0 5px rgba(233, 69, 96, 0.5);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        /* --- å¡ç‰‡æ ·å¼ --- */
        .card {
            background-color: var(--card-color);
            border-radius: 8px;
            padding: 20px;
            border: 1px solid var(--primary-color);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        /* --- è¡¨å•å…ƒç´ æ ·å¼ --- */
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"], input[type="url"], textarea {
            width: 100%;
            padding: 10px;
            background-color: var(--input-bg-color);
            border: 1px solid var(--primary-color);
            border-radius: 4px;
            color: var(--text-color);
            box-sizing: border-box;
        }
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        .btn {
            background-color: var(--accent-color);
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s, transform 0.1s;
        }
        .btn:hover {
            background-color: #ff6e85;
        }
        .btn:active {
            transform: scale(0.98);
        }
        .btn-secondary {
            background-color: var(--primary-color);
        }
        .btn-secondary:hover {
            background-color: #275a9a;
        }

        /* --- åŠŸèƒ½åŒºç‰¹å®šæ ·å¼ --- */
        #playlist-ul {
            list-style: none;
            padding: 0;
        }
        #playlist-ul li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--input-bg-color);
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 5px;
        }
        #playlist-ul button {
            background: none;
            border: none;
            color: var(--accent-color);
            cursor: pointer;
            font-size: 1.2em;
        }
        #generated-code-wrapper {
            margin-top: 15px;
        }
        #generated-code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #111;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* --- Toast é€šçŸ¥ --- */
        #toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--accent-color);
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s, bottom 0.3s;
        }
        #toast.show {
            opacity: 1;
            visibility: visible;
            bottom: 30px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Xist2024 - ç§˜å¯†æ§åˆ¶å°</h1>

        <section class="card">
            <h2>ğŸµ éŸ³ä¹æ’­æ”¾å™¨æ­Œå•ç®¡ç†å™¨</h2>
            <div class="form-group">
                <label for="song-input">æ·»åŠ æ–°æ­Œæ›² (è¾“å…¥æ–‡ä»¶å, å¦‚: new_song.m4a)</label>
                <input type="text" id="song-input" placeholder="è¾“å…¥åæŒ‰å›è½¦æˆ–ç‚¹å‡»æŒ‰é’®">
            </div>
            <ul id="playlist-ul"></ul>
            <button class="btn" id="save-playlist-btn">ä¿å­˜æ­Œå•</button>
            <p style="font-size: 0.9em; opacity: 0.7;">è¯´æ˜ï¼šä¿®æ”¹åè¯·ç‚¹å‡»â€œä¿å­˜æ­Œå•â€ï¼Œæ•°æ®å°†å­˜å…¥æµè§ˆå™¨ã€‚æ‚¨éœ€è¦ä¿®æ”¹ä¸»é¡µçš„ JS æ¥è¯»å–è¿™ä»½æ­Œå•ã€‚</p>
        </section>

        <section class="card">
            <h2>âœï¸ ä¸ªäººä¿¡æ¯ç¼–è¾‘å™¨</h2>
            <form id="profile-form">
                <div class="form-group">
                    <label for="profile-line1">å…³äºæˆ‘ - ç¬¬ä¸€è¡Œ</label>
                    <input type="text" id="profile-line1">
                </div>
                <div class="form-group">
                    <label for="profile-line2">å…³äºæˆ‘ - ç¬¬äºŒè¡Œ</label>
                    <input type="text" id="profile-line2">
                </div>
                <div class="form-group">
                    <label for="profile-line3">å…³äºæˆ‘ - ç¬¬ä¸‰è¡Œ</label>
                    <input type="text" id="profile-line3">
                </div>
                <hr style="border-color: var(--primary-color);">
                <div class="form-group">
                    <label for="contact-qq">QQ å·</label>
                    <input type="text" id="contact-qq">
                </div>
                <div class="form-group">
                    <label for="contact-email">Email åœ°å€</label>
                    <input type="text" id="contact-email">
                </div>
                <div class="form-group">
                    <label for="contact-github">GitHub é“¾æ¥</label>
                    <input type="url" id="contact-github">
                </div>
                <button type="submit" class="btn">ä¿å­˜æ‰€æœ‰ä¿¡æ¯</button>
            </form>
        </section>

        <section class="card">
            <h2>ğŸ“ ç®€æ˜“åŠ¨æ€/åšå®¢å‘å¸ƒå™¨</h2>
            <p style="font-size: 0.9em; opacity: 0.7;">åœ¨è¿™é‡Œå†™å¥½å†…å®¹ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä½ éœ€è¦ç²˜è´´åˆ° `index.html` é‡Œçš„ä»£ç ã€‚</p>
            <form id="post-generator-form">
                <div class="form-group">
                    <label for="post-title">æ ‡é¢˜</label>
                    <input type="text" id="post-title" placeholder="æˆ‘ä»Šå¤©å­¦ä¹ äº†...">
                </div>
                <div class="form-group">
                    <label for="post-content">å†…å®¹</label>
                    <textarea id="post-content" placeholder="ä»Šå¤©æˆ‘å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨ localStorage..."></textarea>
                </div>
                <button type="submit" class="btn">ç”Ÿæˆ HTML ä»£ç </button>
            </form>
            <div id="generated-code-wrapper" style="display: none;">
                <hr style="border-color: var(--primary-color);">
                <label>è¯·å¤åˆ¶ä¸‹é¢çš„ä»£ç ï¼š</label>
                <textarea id="generated-code" readonly></textarea>
                <button class="btn btn-secondary" id="copy-code-btn">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
            </div>
        </section>

        <section class="card">
            <h2>ğŸ¨ ç½‘ç«™ä¸»é¢˜å®šåˆ¶å™¨</h2>
             <p style="font-size: 0.9em; opacity: 0.7;">åœ¨è¿™é‡Œè°ƒæ•´å‚æ•°ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä½ éœ€è¦ç²˜è´´åˆ° `style.css` é‡Œçš„ä»£ç ã€‚</p>
            <form id="theme-generator-form">
                <div class="form-group">
                    <label for="theme-bg-url">èƒŒæ™¯å›¾ç‰‡ URL</label>
                    <input type="url" id="theme-bg-url" placeholder="https://example.com/background.jpg">
                </div>
                 <button type="submit" class="btn">ç”Ÿæˆ CSS ä»£ç </button>
            </form>
            <div id="generated-css-wrapper" style="display: none;">
                <hr style="border-color: var(--primary-color);">
                <label>è¯·å¤åˆ¶ä¸‹é¢çš„ CSS ä»£ç åˆ° style.css ä¸­æ›¿æ¢åŸæœ‰èƒŒæ™¯æ ·å¼ï¼š</label>
                <textarea id="generated-css" readonly></textarea>
                <button class="btn btn-secondary" id="copy-css-btn">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
            </div>
        </section>

    </div>

    <div id="toast"></div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // ===================================================================================
        //  âš ï¸ é‡è¦ï¼šä¸»é¡µ JS ä¿®æ”¹æŒ‡å— (è¯·ä»”ç»†é˜…è¯»ï¼)
        // ===================================================================================
        //
        // ä¸ºäº†è®©æ‚¨çš„ä¸»é¡µ(index.html)èƒ½å¤Ÿä½¿ç”¨æ‚¨åœ¨è¿™é‡Œä¿å­˜çš„æ•°æ®ï¼Œæ‚¨éœ€è¦ä¿®æ”¹æ‚¨ä¸»é¡µçš„ `script.js` æ–‡ä»¶ã€‚
        //
        // 1. **ä¿®æ”¹æ­Œå•**:
        //    åœ¨ `script.js` é‡Œæ‰¾åˆ°æ‚¨çš„ `songList` æ•°ç»„ï¼Œåƒè¿™æ ·ï¼š
        //    `const songList = ["song1.m4a", "song2.m4a", ...];`
        //    æŠŠå®ƒä¿®æ”¹ä¸ºä» localStorage è¯»å–ï¼Œå¦‚æœè¯»å–ä¸åˆ°ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªç©ºæ•°ç»„ï¼š
        //    `const songList = JSON.parse(localStorage.getItem('xist_playlist')) || [];`
        //
        // 2. **ä¿®æ”¹ä¸ªäººä¿¡æ¯**:
        //    åœ¨ `script.js` çš„ `updateClockAndUptime` æˆ–å…¶ä»–åˆé€‚çš„åˆå§‹åŒ–å‡½æ•°é‡Œï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š
        //    (æ‚¨éœ€è¦å…ˆç»™ä¸»é¡µ index.html é‡Œçš„å¯¹åº”å…ƒç´ åŠ ä¸Š ID)
        //    `document.getElementById('about-me-p1').textContent = localStorage.getItem('xist_profile_line1') || 'ä¸€ååäºŒå²åˆä¸€å­¦ç”Ÿ';`
        //    `document.getElementById('about-me-p2').textContent = localStorage.getItem('xist_profile_line2') || 'å–œæ¬¢ç©æ¸¸æˆå’Œç”¨AIç¼–ç¨‹';`
        //    `document.getElementById('about-me-p3').textContent = localStorage.getItem('xist_profile_line3') || 'åªæƒ³å®‰å®‰ç¨³ç¨³çš„è¿‡æ¯ä¸€å¤©';`
        //    `document.getElementById('qq-link').onclick = () => copyToClipboard(localStorage.getItem('xist_contact_qq') || '3310088475', 'QQå·');`
        //    `document.getElementById('email-link').onclick = () => copyToClipboard(localStorage.getItem('xist_contact_email') || 'Xist_2024@outlook.com', 'ç”µå­é‚®ä»¶åœ°å€');`
        //    `document.getElementById('github-link').href = localStorage.getItem('xist_contact_github') || 'https://github.com/Xist2024';`
        //
        // ===================================================================================


        // --- é€šç”¨ Toast é€šçŸ¥å‡½æ•° ---
        const toast = document.getElementById('toast');
        function showToast(message, duration = 2000) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }

        // --- 1. éŸ³ä¹æ­Œå•ç®¡ç†å™¨é€»è¾‘ ---
        const songInput = document.getElementById('song-input');
        const playlistUl = document.getElementById('playlist-ul');
        const savePlaylistBtn = document.getElementById('save-playlist-btn');
        let playlist = JSON.parse(localStorage.getItem('xist_playlist')) || [];

        function renderPlaylist() {
            playlistUl.innerHTML = '';
            playlist.forEach((song, index) => {
                const li = document.createElement('li');
                li.innerHTML = `<span>${song}</span><button data-index="${index}">&times;</button>`;
                playlistUl.appendChild(li);
            });
        }

        function addSong() {
            const songName = songInput.value.trim();
            if (songName) {
                playlist.push(songName);
                songInput.value = '';
                renderPlaylist();
            }
        }

        songInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                addSong();
            }
        });
        
        playlistUl.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const index = e.target.dataset.index;
                playlist.splice(index, 1);
                renderPlaylist();
            }
        });

        savePlaylistBtn.addEventListener('click', () => {
            localStorage.setItem('xist_playlist', JSON.stringify(playlist));
            showToast('æ­Œå•å·²æˆåŠŸä¿å­˜ï¼');
        });

        renderPlaylist(); // é¡µé¢åŠ è½½æ—¶æ¸²æŸ“ä¸€æ¬¡

        // --- 2. ä¸ªäººä¿¡æ¯ç¼–è¾‘å™¨é€»è¾‘ ---
        const profileForm = document.getElementById('profile-form');
        const profileInputs = {
            line1: document.getElementById('profile-line1'),
            line2: document.getElementById('profile-line2'),
            line3: document.getElementById('profile-line3'),
            qq: document.getElementById('contact-qq'),
            email: document.getElementById('contact-email'),
            github: document.getElementById('contact-github')
        };
        const profileKeys = {
            line1: 'xist_profile_line1',
            line2: 'xist_profile_line2',
            line3: 'xist_profile_line3',
            qq: 'xist_contact_qq',
            email: 'xist_contact_email',
            github: 'xist_contact_github'
        };

        function loadProfileData() {
            for (const key in profileInputs) {
                profileInputs[key].value = localStorage.getItem(profileKeys[key]) || '';
            }
        }
        
        profileForm.addEventListener('submit', (e) => {
            e.preventDefault();
            for (const key in profileInputs) {
                localStorage.setItem(profileKeys[key], profileInputs[key].value);
            }
            showToast('ä¸ªäººä¿¡æ¯å·²æˆåŠŸä¿å­˜ï¼');
        });

        loadProfileData(); // é¡µé¢åŠ è½½æ—¶åŠ è½½æ•°æ®

        // --- 3. åšå®¢/åŠ¨æ€å‘å¸ƒå™¨é€»è¾‘ ---
        const postGeneratorForm = document.getElementById('post-generator-form');
        const postTitleInput = document.getElementById('post-title');
        const postContentInput = document.getElementById('post-content');
        const generatedCodeWrapper = document.getElementById('generated-code-wrapper');
        const generatedCodeTextarea = document.getElementById('generated-code');
        const copyCodeBtn = document.getElementById('copy-code-btn');

        postGeneratorForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const title = postTitleInput.value.trim();
            const content = postContentInput.value.trim().replace(/\n/g, '<br>');
            if (!title || !content) {
                showToast('æ ‡é¢˜å’Œå†…å®¹ä¸èƒ½ä¸ºç©ºï¼', 3000);
                return;
            }

            const htmlCode = `
    <div class="card-base">
        <h2>${title}</h2>
        <p style="text-align: left; line-height: 1.6;">
            ${content}
        </p>
        <p style="font-size: 0.8em; opacity: 0.6; text-align: right;">å‘å¸ƒäºï¼š${new Date().toLocaleDateString('zh-CN')}</p>
    </div>`;
            
            generatedCodeTextarea.value = htmlCode.trim();
            generatedCodeWrapper.style.display = 'block';
        });

        copyCodeBtn.addEventListener('click', () => {
            generatedCodeTextarea.select();
            document.execCommand('copy');
            showToast('ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
        });

        // --- 4. ç½‘ç«™ä¸»é¢˜å®šåˆ¶å™¨é€»è¾‘ ---
        const themeGeneratorForm = document.getElementById('theme-generator-form');
        const bgUrlInput = document.getElementById('theme-bg-url');
        const generatedCssWrapper = document.getElementById('generated-css-wrapper');
        const generatedCssTextarea = document.getElementById('generated-css');
        const copyCssBtn = document.getElementById('copy-css-btn');

        themeGeneratorForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const bgUrl = bgUrlInput.value.trim();
            if (!bgUrl) {
                showToast('èƒŒæ™¯å›¾ç‰‡ URL ä¸èƒ½ä¸ºç©ºï¼', 3000);
                return;
            }

            const cssCode = `
body {
    /* ... æ‚¨å…¶ä»–çš„ body æ ·å¼ ... */
    background-image: url('${bgUrl}');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-color: rgba(0, 0, 0, 0.5);
    background-blend-mode: overlay;
    /* ... æ‚¨å…¶ä»–çš„ body æ ·å¼ ... */
}`;
            
            generatedCssTextarea.value = cssCode.trim();
            generatedCssWrapper.style.display = 'block';
        });

        copyCssBtn.addEventListener('click', () => {
            generatedCssTextarea.select();
            document.execCommand('copy');
            showToast('CSS ä»£ç å·²å¤åˆ¶ï¼');
        });

    });
    </script>
</body>
</html>
